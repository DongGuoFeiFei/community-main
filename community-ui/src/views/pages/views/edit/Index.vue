<script setup>

import Header from "@/views/pages/components/Header.vue";
import {onBeforeUnmount, onMounted, ref, watch} from "vue";
import EditorView from "@/views/pages/views/edit/EditorView.vue";
import TiptapEditor from "@/views/pages/views/edit/components/TiptapEditor.vue";

const editorHtml = ref('<p>tiptap editor demo.ğŸ‰</p>')

// let updateTimer = null

// åˆå§‹åŒ–å®šæ—¶å™¨
// const initUpdateTimer = () => {
//   updateTimer = setInterval(() => {
//     const now = new Date()
//     editorHtml.value = `
//       <div>
//         <h3>è‡ªåŠ¨æ›´æ–°å†…å®¹ (${now.toLocaleTimeString()})</h3>
//         <p>è¿™æ˜¯è‡ªåŠ¨æ›´æ–°çš„ç¼–è¾‘å™¨å†…å®¹</p>
//         <ul>
//           <li>éšæœºå€¼: ${Math.random().toFixed(4)}</li>
//           <li>æ—¶é—´æˆ³: ${now.getTime()}</li>
//         </ul>
//       </div>
//     `
//   }, 1000) // 10ç§’æ›´æ–°ä¸€æ¬¡
// }
//
// onMounted(() => {
//   initUpdateTimer()
// })
//
// onBeforeUnmount(() => {
//   // ç»„ä»¶å¸è½½æ—¶æ¸…é™¤å®šæ—¶å™¨
//   if (updateTimer) {
//     clearInterval(updateTimer)
//     updateTimer = null
//   }
// })

watch(
    () => editorHtml.value,
    (newHtml) => {
      console.log(newHtml)
    }
)
</script>

<template>
  <el-container>
    <el-header>
      <Header/>
    </el-header>
    <el-main>
<!--            <tiptap-editor v-model:html="editorHtml"/>-->
      <editor-view/>
    </el-main>
  </el-container>
</template>